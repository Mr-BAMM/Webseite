<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Truth</title>
  <style>
    :root { --bg:#0f172a; --card:#111827; --text:#e5e7eb; --muted:#9ca3af; }
    html, body { height:100%; }
    body {
      margin:0; display:flex; align-items:center; justify-content:center; min-height:100vh;
      background: radial-gradient(1200px 800px at 70% 10%, #1f2937 0%, var(--bg) 60%);
      color: var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    }
    .card {
      width:min(880px, 92vw); padding:28px 28px 22px; border-radius:20px; background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.03));
      box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.06);
      border:1px solid rgba(255,255,255,0.08);
      backdrop-filter: blur(8px);
    }
    .header { display:flex; align-items:center; justify-content:space-between; gap:12px; }
    h1 { font-size:18px; font-weight:600; letter-spacing:.2px; margin:0; color:#cbd5e1; }
    .time { font-size:12px; color: var(--muted); }
    blockquote { margin:18px 0 14px; font-size: clamp(22px, 4.2vw, 36px); line-height:1.25; font-weight:650; letter-spacing:.15px; }
    blockquote::before, blockquote::after { content:"\201C"; color:#94a3b8; margin:0 .2ch; }
    blockquote::after { content:"\201D"; }
    .author { color:#a7b0be; font-size:14px; margin: 2px 0 22px; }
    .row { display:flex; gap:10px; flex-wrap:wrap; }
    button {
      --alpha: .12; appearance:none; border:1px solid rgba(255,255,255,.12); color:var(--text);
      background: rgba(255,255,255,var(--alpha)); padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600;
      transition: transform .06s ease, background .2s ease, border-color .2s ease; 
    }
    button:hover { --alpha:.18; }
    button:active { transform: translateY(1px) scale(.99); }
    .ghost { --alpha:.06; }
    .muted { color: var(--muted); font-size:12px; margin-left:auto; }
    .hidden { display:none; }
    .footer { display:flex; align-items:center; gap:12px; color:#94a3b8; font-size:12px; }
    a, a:visited { color:#cbd5e1; }
  </style>
</head>
<body>
  <main class="card" role="main">
    <div class="header">
      <h1>Zufalls‑Motivationsspruch</h1>
      <div class="time" id="time"></div>
    </div>

    <blockquote id="quote">Lade Spruch…</blockquote>
    <div class="author" id="author"></div>

    <div class="row">
      <button id="btn-copy" class="ghost" aria-label="Spruch in die Zwischenablage kopieren">Kopieren</button>
      <span class="muted" id="status" role="status" aria-live="polite"></span>
    </div>

  </main>

  <script>
    // === 1) Deine Sammlung hier pflegen (Text oder "Text — Autor") ===
const QUOTES = [
  "Was war dein erster Eindruck von mir?",
  "Was ist das peinlichste, das dir jemals in der Öffentlichkeit passiert ist?",
  "Welches Geheimnis hier im Raum hast du noch niemandem erzählt?",
  "Wer war dein größter Crush in den letzten 5 Jahren?",
  "Was tust du so, als würdest du es mögen, magst es aber eigentlich nicht?",
  "Was ist deine irrationalste Angst?",
  "Was war dein schlimmstes Date ever – und warum?",
  "Was ist die größte Lüge, die du erzählt hast, ohne erwischt zu werden?",
  "Wenn du eine Sache aus deiner Vergangenheit ändern könntest, welche wäre das?",
  "Worauf bist du stolz, worüber du aber selten sprichst?",
  "Was ist das Seltsamste, das du getan hast, als du dachtest, dich beobachtet niemand?",
  "Warst du schon mal in den Partner oder Ex eines Freundes oder einer Freundin verknallt?",
  "Welche deiner Meinungen ist am kontroversesten, an der du aber trotzdem festhältst?",
  "Was ist das kindischste, das du immer noch gerne machst?",
  "Was war das größte Risiko, das du je eingegangen bist?",
  "Welche Angewohnheit würdest du wirklich gerne loswerden, hast es aber noch nicht geschafft?",
  "Was war deine schlimmste Modephase?",
  "Wann hast du das letzte Mal geweint – und warum?",
  "Was ist etwas, worüber du unsicher bist, was man dir aber wahrscheinlich nicht ansieht?",
  "In welchen größten Ärger bist du in der Schule oder an der Uni geraten?",
  "Was ist das Merkwürdigste, das du jemals mit Absicht gegessen hast?",
  "Was war das Letzte, das du in deinem Handy-Browser gesucht hast?",
  "Wen aus dieser Runde würdest du als erstes im Notfall anrufen – und warum?",
  "Auf welches Ziel hast du heimlich aufgegeben?",
  "Was ist das Faulste, das du in letzter Zeit gemacht hast?",
  "Welches Kompliment hast du bekommen, das du nie vergessen wirst?",
  "Über was bist du froh, dass deine Eltern es nicht über dich wissen?",
  "Was war die unangenehmste Situation mit jemandem, in den du verknallt warst?",
  "Was hast du einmal gemacht und sofort bereut?",
  "Wenn du dir eine Person hier aussuchen müsstest, mit der du auf einer einsamen Insel gestrandet bist – wer wäre es?",
  "Was ist dein peinlichstes Guilty Pleasure, wenn du alleine bist?",
  "Was war die schlimmste Nachricht, die du jemals an die falsche Person geschickt hast?",
  "Hast du je gelogen, nur um ein Treffen mit jemandem hier zu vermeiden?",
  "Welche Freundschaft hättest du rückblickend gerne anders gehandhabt?",
  "Was hast du schon nur aus Gruppenzwang gemacht?",
  "Was ist im Moment das peinlichste Objekt in deinem Zimmer?",
  "Was ist eine Sache, von der du Angst hast, dass die Leute hier im Raum sie heimlich über dich denken?",
  "Was war dein impulsivster Kauf überhaupt?",
  "Wer hier kennt dich deiner Meinung nach am besten – und warum?",
  "Welche Lüge hast du auf Social Media erzählt, damit du besser rüberkommst?",
  "Wann warst du in deinem Leben am eifersüchtigsten?",
  "Was würdest du gerne besser können, übst es aber nie?",
  "Was ist der seltsamste Traum, an den du dich noch im Detail erinnerst?",
  "Wenn du eine Erinnerung aus deinem Kopf löschen könntest – welche wäre das?",
  "Was ist der kleinlichste Grund, aus dem du jemanden mal nicht mochtest?",
  "Was hast du getan, von dem dein Chef oder Lehrer auf keinen Fall erfahren sollte?",
  "Wie lange bist du schon mal ohne Duschen ausgekommen – und warum?",
  "Welche kleine Entscheidung hat dein Leben überraschend stark verändert?",
  "Wenn du einen großen Fehler aus dem letzten Jahr zugeben müsstest – welcher wäre das?",
  "Was ist etwas, das du dir vom Leben wirklich wünschst, dich aber kaum traust, laut auszusprechen?"
];


    // === 2) Keine Wiederholungen bis alle durch sind – Shuffle‑Beutel in localStorage ===
    const STORAGE_KEY = 'motivate.shuffleBag.v1';

    function getShuffleBag(size) {
      const raw = localStorage.getItem(STORAGE_KEY);
      if (raw) {
        try {
          const obj = JSON.parse(raw);
          if (Array.isArray(obj.bag) && typeof obj.i === 'number' && obj.size === size) return obj;
        } catch {}
      }
      // Neu erzeugen: 0..size-1 mischen (Fisher‑Yates)
      const bag = Array.from({length: size}, (_, i) => i);
      for (let i = bag.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [bag[i], bag[j]] = [bag[j], bag[i]];
      }
      const obj = { bag, i: 0, size };
      localStorage.setItem(STORAGE_KEY, JSON.stringify(obj));
      return obj;
    }

    function drawIndex(size) {
      let state = getShuffleBag(size);
      if (state.i >= state.bag.length) {
        // Alles gezeigt → neu mischen
        localStorage.removeItem(STORAGE_KEY);
        state = getShuffleBag(size);
      }
      const idx = state.bag[state.i++];
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
      return idx;
    }

    // === 3) Rendering ===
    function splitQuote(q) {
      // Trenne bei — oder - oder \u2014; rechts davon als Autor, wenn sinnvoll
      const dash = /(\s[\u2014\u2013\-]\s)|\s—\s/;
      const parts = q.split(dash);
      if (parts.length >= 3) {
        const text = (parts[0] || '').trim();
        const author = (q.slice(text.length).replace(/^\s[\u2014\u2013\-]\s/, '')).trim();
        return { text, author };
      }
      return { text: q, author: '' };
    }

    function renderRandomQuote() {
      if (!QUOTES.length) return;
      const i = drawIndex(QUOTES.length);
      const { text, author } = splitQuote(QUOTES[i]);
      document.getElementById('quote').textContent = text;
      const a = document.getElementById('author');
      a.textContent = author ? '— ' + author : '';
    }

    // === 4) UX: Kopieren, Zeitstempel, Button ===
    async function copyQuote() {
      const text = document.getElementById('quote').textContent;
      const author = document.getElementById('author').textContent;
      const clip = author ? `${text} ${author}` : text;
      try {
        await navigator.clipboard.writeText(clip);
        setStatus('Kopiert.');
      } catch {
        setStatus('Konnte nicht kopieren.');
      }
    }

    function setStatus(msg) {
      const s = document.getElementById('status');
      s.textContent = msg;
      clearTimeout(setStatus._t);
      setStatus._t = setTimeout(() => s.textContent = '', 1800);
    }

    function setTime() {
      const now = new Date();
      const opts = { hour: '2-digit', minute: '2-digit' };
      document.getElementById('time').textContent = now.toLocaleTimeString(undefined, opts);
    }

    // Init
    document.getElementById('btn-copy').addEventListener('click', copyQuote);
    setTime();
    setInterval(setTime, 30_000);
    renderRandomQuote();
  </script>
</body>
</html>
